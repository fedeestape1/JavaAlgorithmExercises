/*
 * You start on the open square (.) in the top-left corner and need to reach the bottom (below the bottom-most row on your map).

The toboggan can only follow a few specific slopes (you opted for a cheaper model that prefers rational numbers); start by counting all the trees you would encounter for the slope right 3, down 1:
te moves 3 a la derecha y 1 abajo, y tenes que contar todos los # que te encontras en el camino.
Pero tenes que hacer de cuenta que cuando se termina el 1er string, el patron se repite infinitamente hacia la derecha
Para modelar esto lo que hacemos es usar currentPosition[x] = (currentPosition[x] + 3) % string.length
y con esto, si nos pasamos del limite, vuelve a empezar en 0 y sigue aumentando todo lo que se paso del limite, es HERMOSO 
 */
public class CountingHashTags {
	public static void main(String[] args) {
		String[] rows = {".........#..##..#..#........#..",
				"#...#..#..#...##.....##.##.#...",
				"....#..............#....#....#.",
				"#.#..#.....#...#.##..#.#.#.....",
				"........#..#.#..#.......#......",
				".#........#.#..###.#....#.#.#..",
				"........#........#.......#.....",
				"...##..#.#.#........##.........",
				"#.#.##..###............#...#...",
				"............#....#.......###.##",
				"....##....##..#........#......#",
				"............#.#..........#.....",
				"#.#....#....##...#.....#.....#.",
				"......#.#.#...#.....###....#..#",
				"...........##..#.........#..#.#",
				"..#..#.................#..#..#.",
				".#....###...#.......#.........#",
				"#.#.#.#...#......#.......#...#.",
				".......#.#.#...#..............#",
				"...##.......#..##.#.......##...",
				"#.#.##....#..##..##..###...###.",
				".#......##.##.#....#.##........",
				"..###.............##..##..#....",
				".....#.#...........#..##..##...",
				".###.#.#......#.....#........##",
				"...#.......#...##..#..#..#.....",
				"..............#.#..##.##..##..#",
				"#..#.#......#............#.....",
				"........#..#....#..............",
				"...#...#..............#.#####..",
				"...##......#........#.#...#....",
				"..##......#............#..#..#.",
				"....#.........#.#.#.....###.#..",
				"#....#........#........#....#.#",
				".....#...#..##.....##...#.....#",
				"#...#.#.#...##..##.###.#.#.....",
				"......#.#..........#...#.##....",
				"..............##...#..#.......#",
				"........##.....#.....#.#....#..",
				"..............#..#..#...#.....#",
				"##......##.......##...#.#....#.",
				".....#.............#.#.........",
				"#.........##..#..#.........##..",
				"..#..#.....#####.........##.#..",
				".......##.#......#........#....",
				"#.................#.#...#....#.",
				"...#........#.###.##.##.....#..",
				"#.....##..#...##.#.#......#....",
				".....#..#.#..........##..#.##..",
				"..###.............#..#..#...#..",
				"...###..#...#.....##..........#",
				"#.......#.#...#....#..##..#..#.",
				".#..#.........#..............#.",
				"..######.....#....##......#....",
				"#..##...#......#..#.#....#.....",
				".#...................#.#.....#.",
				"..#...#.#..#.#......#..#...#..#",
				"..##..##.#.##.........#.#.#....",
				"...#...#...........#..##.##...#",
				"#...#....#....#....#..#.##..#..",
				"..#.##....#....###..#..........",
				"#.#..##.#.#...##.#..#.##..#.#..",
				"#......##...#.#..........#..#..",
				"#.#...#..#...#.#.#..#........#.",
				"#.#.##.#..#...#..#.#.##........",
				".....#......#........#..#......",
				"...#....#.#....#...............",
				"....#..###..#....#..#....#....#",
				".#........###..........##.##.#.",
				"#.#......##....##...##.#......#",
				"#..##.##...#...........##.#.#..",
				".#.....#.#...#.................",
				"##..........#..#....#.....#...#",
				"....#.#..........##..#.....#.##",
				"#.#..#..#..##..........#.......",
				"..#.#.###......................",
				"......##..##.....#..##.##....#.",
				"...#.......#.##....#......#....",
				"...#...#........#...#.#...#..##",
				"##...#....#.#...#.#.##..##...#.",
				"...#.....#...#...#....###.#..#.",
				"..#.#..#........#......#..##..#",
				"...#......#...#.#.##...##.#.#.#",
				"....#.#....#....#.....#.....##.",
				".....#.#..##.#....##....##.....",
				".#...###..#.....#............#.",
				"#..#.#.#..#..#...#....#...#....",
				"#.....#..#...#................#",
				"..........#..#.......#......#.#",
				"...#..#......#...#......#......",
				".#.#.....#.#.#.#......#..#..#..",
				".....#.........#.#.#.....##.#..",
				".....#.#.....#..#..#..#.....###",
				"##....#......##....##.#....#.#.",
				"#####........#..........##.....",
				".#...##...#...#.......#....#...",
				"#.#.##...##...##..##........#..",
				"#.#..............#.#...#...###.",
				"...#.....##..#.........#....#.#",
				"#.#....#....#..##.#..#...#.....",
				"..#....#.#..#...#...##.....#...",
				"....#...#......................",
				"..#...#.......#..#...##....#...",
				".#........#...#.....##.##...#..",
				"#......#..............#..#..#..",
				"...........#.#..#.#.#....#....#",
				".##..##.......#...#..#.....#..#",
				"...#.........#.........###..#..",
				"...#.##....#....#.....#.....#..",
				".#.#.#.........#.#.#....#....#.",
				"...#..........##..#....#.#.....",
				"...#....##................#....",
				"#....##..#..#........##...#....",
				"#...#...##.#............#....#.",
				"##..#....#...#...............#.",
				"..........#.#...#..##..#.#.....",
				"..##...##..#....#.#......#.....",
				".......#......#.#.....#.....##.",
				"#...###.....##..##....#.#....#.",
				".###......#.....#.#............",
				"#.....#.....####.##....#..#....",
				"......###.............#......##",
				".........##.......##..#..#..#..",
				".#.......#....#...#...#.#......",
				"#...#..#...#........#...##..#..",
				".#....#........#.........##..#.",
				"..............##.#...##..#.##.#",
				".#....#...#....#......#..#.....",
				"#....##.#...#.#.....###..#....#",
				"#.......##.#..###..............",
				"#..#..#..#......#.#..#...#..#.#",
				".......#.#.#..#..#...#..#......",
				".#..#......#.....#......##..##.",
				"....#....#.......#.......#.#.##",
				".......#.#................#...#",
				"#.#.....#.......#.#........#...",
				".....#....##...#......#.....##.",
				".#......#.#...#..#....#....#.##",
				"##...#.###.#....#..#....#.#...#",
				"....#.##..##.#.............#...",
				"#..#.............##.......#.#..",
				"##.#..#..#.#...........###...##",
				".#.#.....#......###........#...",
				"#.#...#.#....##......#.#....#..",
				"#.........#..........#.........",
				".......#....#...#..#.....#...##",
				".......................#...#..#",
				".###...........##...#........##",
				"#.#....######.#........#..##.#.",
				"..#.##.#...#.#.......#.##.##..#",
				"#.............###..#.##.#......",
				"...#..##......#...#..###.....#.",
				"..........#.....#..#...##..#...",
				"..##..........#.#..#.....#...#.",
				"...#.......#.....##.........#..",
				"#..#.#...#..#...###...#...#.#..",
				"#.##....#..#.#.......#..#..#...",
				"..#.##.#......#.#......#....#..",
				"..........#...##.....###.......",
				"...#...##..#......#...##.......",
				"....#........#.#.......#..###..",
				".....#.#..........##.#..#..#.#.",
				".............##.....#.#..##....",
				"...#...............##...#......",
				"....#......#..#....#...##..#...",
				".##.#....#.#.....#.#.........#.",
				".....#.###....#..###..#.#.....#",
				".#.........##.........##...#...",
				"..#.....###....##..........#..#",
				"........#..#.#.#..#.......#..##",
				"..#.#..#.#............#.##.#..#",
				".#....#.....#..#...#.......##..",
				".#...........#.#..#..###.###...",
				"..#.....#..#........#.#........",
				".#........##........#..#.##....",
				"......#.....##........##..#....",
				".#..................##....#.#..",
				".#..#.#..#.#...#........#......",
				"...#..##.#......#..#..........#",
				"....#.##...#....##.............",
				"#....#.##....##.###..#..#..#...",
				"..........#..#...##.##....#..#.",
				".###.#.....#...#...#...#.......",
				"............#...............#.#",
				"#....#...#......#....#.#.#.#.##",
				"...#..........#.#.#.....###....",
				"#.#...##...#..#.....###...#....",
				"......#...#..#..#..#.##...##...",
				"...#..#.#....#...#.#.........##",
				"##....#..###.#.##.....##.......",
				"..#.#...#..##.......#.#.......#",
				"##......#...........#......#...",
				".......#..###....###..##.#...##",
				".........#.....#..#.......##..#",
				".......#.##..#....#...#.#...#..",
				"#..#.#..................##.#..#",
				"...#..#..#.....#..#........#...",
				"...#.#..###..#.....##...#....#.",
				"..#..#......#...........#...#..",
				"#...##.##..###.......##........",
				".#.....#..#....#.....#.##....#.",
				"#..#........#.#....#..#...#.###",
				"..#...#.#.#.....#.....#..#.....",
				".##.............#.#......##...#",
				".#....#####............#.....##",
				"#.###.......#.#...##.....#.....",
				"......#.##..#...#..#..##.#..##.",
				"......#.#...##.....#...#....##.",
				"....#............#...#...#....#",
				".........##.#.#....#....#....##",
				".#...##.#...#.......#.##....#.#",
				"#....#.#...#.#...#.#.#...#.....",
				".#.#.........##..#..#..........",
				".#.........#.#.....#..#.#..###.",
				"....##.#.#..........#..####....",
				"....#..#.#.#...#...#..#....#...",
				"..#.#...#...##.......#.#.#..#..",
				"...##...#......#.....#.#...#..#",
				"......#.###.#.......##...#...#.",
				".....#.#.#......##..........###",
				"##.#.#.#..#....#...............",
				".#.#.##.......#....#.#.....#..#",
				".........#...#.#..#.......#....",
				"....#.####.#......#...#...##...",
				"#..#..#..#..#....#...##.....##.",
				"......####.#..##..#.....##.....",
				"##.#.........#........#..#.#...",
				".#.#....#....#.......#.#....##.",
				"....#....#.......##..#.....#...",
				".#......#..#....#.#............",
				"#..#.#.##.....#..#.#.#.#.#.##..",
				".#.....#.....#...#..#.#...#.#..",
				".#.#.##............#.#.#.#.#.#.",
				".##..........#.....#...###.....",
				"#.#...#...#................#.#.",
				"##...#.##.....#.....#.#.##.....",
				"####.....##..........#......#..",
				"#.............#..............#.",
				".###....#.#...#..#..#..#.......",
				"..#.#.....#...#..#..####.......",
				"...#.#..#........#..##..#..#.##",
				".#........#..........#.#...##..",
				".#.......#.#.#..#...#..#.#...##",
				".#.....##......##..............",
				"......#..#.#.##...##.#.....#...",
				".........#.#...##.....##....#.#",
				".....##...#........#..#.#..#.#.",
				".#.##..#.....##...#...###.#.#..",
				"...##...#...#..#.#..#..........",
				"##..............#...#...#.#..#.",
				"......#..#......#..#.....#...#.",
				".......#...#..#....#.....#.....",
				"..##.....##..#.#........#......",
				".###.#...#.....................",
				"..#...#.................#...#..",
				"#..#.##...####.............#...",
				".##....#..####.......#.........",
				"#..#...###...#...#..#..##......",
				"....#.##.#.#.........#.....#..#",
				".....#...#.....#.#.#.##.#...##.",
				".............#........#.....#..",
				"...##.###.#....##.......#..#...",
				"#..#....#....#.#............#..",
				".........#.##........##.....#..",
				".........#.#.#..#..#.......#...",
				".......#.#..#.......#.....#.#..",
				"##.#.....##...##.....#.#.......",
				".#.#.#......##.##.#.........#..",
				"..#.##..###.....###.........##.",
				".#......#..#..##...#.#...##.#.#",
				"......#.#............#.....#...",
				"###.#..#..#..#..#.##...#.......",
				".#.#.##..###....#......##..###.",
				"#...#.#.#..#..#..##.#.##....#..",
				"..#...#...####...#......####.##",
				"..##.#.####........#..#......#.",
				".#..#.......#...#.#.........#..",
				"........#.#....#..#####..#.....",
				".#...........#..#..#..#...#....",
				"....#....#...#.................",
				"....##..#....##....#..#....#.##",
				"....#.##.....###...#...##.##...",
				"......##.#..##.#.#.#....#.#.#..",
				"##.#...###....#.#..#.#.###....#",
				"......###..#..#..........##...#",
				"..........#.##...##..#....##.#.",
				".#...#.#..#.#.#..#.....#.......",
				".#....#..#.#..#.#...##.#.#.....",
				".##.....#...#..##.#........#...",
				"....#......#.........#....#..##",
				".#..#.#.#.#..#..#.#.........#..",
				".........#.....#...#....#......",
				"#..#..#........#...#.#.........",
				"...#.#.#...##.#.#...#..#......#",
				"#.#.#.#........#...#..#.....#..",
				".###..#..#..###..#..#..........",
				".....#......#.#..#...#.......#.",
				"##.##.........#.......##.......",
				"#...##.......#..#.#.......#....",
				"#..#..#.....#...#......#.......",
				".#..#..#.##....#.#..#...#...#..",
				".#...#.....#..#.........#..#...",
				"...#.#.#.......#....#..##.....#",
				".........#..##.#..#..#.#.......",
				"#.##.....##..###..#..#..#.##...",
				"........#......#...##...###..##",
				".##....##..#..#..###......#....",
				"............##......#...#..##..",
				"...##.......#......#...##.##..#",
				"...#..#..#.#...####.#.......#..",
				"..#.##..#....#......#.#.....#..",
				"..#.##..............#..##.....#",
				".....##....#......#....#......#",
				"......#..#......#.........#..#.",
				"...#.##.###...###..#.##........",
				"..........####.#.##.....#..#.##",
				"#...##...........#...........##",
				"#.#..#.#....#.#..#....##......#",
				".......#...#.....#......#.#.##.",
				"....#.##..##..........#..#.....",
				"#.#.#...#......#...#.....#.##.#",
				"........#.......#..##.....##...",
				".....####.#....#.#............."};
//		System.out.println(getHashTagCount(rows, 1, 1) *
//				getHashTagCount(rows, 5, 1) *
//				getHashTagCount(rows, 3, 1)*
//				getHashTagCount(rows, 7, 1)*
//				getHashTagCount(rows, 1, 2));
		System.out.println(getHashTagCount(rows, 3, 1));
	}
	
	private static Long getHashTagCount(String[] rows, int x, int y) {
		int[] currentPosition = new int[2];
		Long treeCount = 0L;
		boolean finished = false;
		while(!finished) {
			currentPosition[0] = (currentPosition[0] + x) % rows[0].length();
			currentPosition[1] = currentPosition[1] + y;
			if(currentPosition[1] < rows.length) {
				System.out.println("current position x: " + currentPosition[0]);
				System.out.println("current position y: " + currentPosition[1]);
				if(rows[currentPosition[1]].charAt(currentPosition[0]) == '#') {
					treeCount++;
				}
			} else {
				finished = true;
			}
		}
		return treeCount;
	}
}
